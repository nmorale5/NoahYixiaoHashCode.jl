<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · NoahYixiaoHashCode.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://nmorale5.github.io/NoahYixiaoHashCode.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>NoahYixiaoHashCode.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li><li><a class="tocitem" href="#Optimization-Algorithm"><span>Optimization Algorithm</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="NoahYixiaoHashCode"><a class="docs-heading-anchor" href="#NoahYixiaoHashCode">NoahYixiaoHashCode</a><a id="NoahYixiaoHashCode-1"></a><a class="docs-heading-anchor-permalink" href="#NoahYixiaoHashCode" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/nmorale5/NoahYixiaoHashCode.jl">NoahYixiaoHashCode</a>.</p><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><pre><code class="language-julia hljs">using NoahYixiaoHashCode

problem = load_problem()
solution = solve_greedy(problem)
open(&quot;solution_NoahYixiaoHashCode.txt&quot;, &quot;w&quot;) do f
    save_text(solution; io=f)
end</code></pre><h2 id="Optimization-Algorithm"><a class="docs-heading-anchor" href="#Optimization-Algorithm">Optimization Algorithm</a><a id="Optimization-Algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization-Algorithm" title="Permalink"></a></h2><h3 id="Problem-and-Notations"><a class="docs-heading-anchor" href="#Problem-and-Notations">Problem and Notations</a><a id="Problem-and-Notations-1"></a><a class="docs-heading-anchor-permalink" href="#Problem-and-Notations" title="Permalink"></a></h3><p>Suppose we have a city represented by a graph, <span>$G = (\{n\}, \{s\})$</span>. Here, <span>$\{n\} = \{n_i \;\mathrm{where}\; i = 1, 2, \dots, N_n\}$</span> is a collection of the nodes; <span>$\{s\} = \{s_n \;\mathrm{where}\; n = 1, 2, \dots, N_s\}$</span> is a collection of the streets. <span>$N_n$</span> and <span>$N_s$</span> are the numbers of the nodes and streets respectively. Each street, <span>$s_n$</span>, can be viewed as a tuple, <span>$(x_n, y_n, d_n, t_n, l_n)$</span>. Here, <span>$x_n$</span> and <span>$y_n$</span> are the two nodes <span>$s_n$</span> connect; <span>$d_n$</span> is whether this street is one-way; <span>$t_n$</span> is the time cost of traversing <span>$s_n$</span>; <span>$l_n$</span> is the length of <span>$s_n$</span>.</p><p>In this problem, we have multiple cars, the number of which is referred to as <span>$N_c$</span>, They start from the same initial node. The goal is to maximize the total distance of the the streets that all the cars traverse within a limited time.</p><h3 id="Greedy-algorithm"><a class="docs-heading-anchor" href="#Greedy-algorithm">Greedy algorithm</a><a id="Greedy-algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#Greedy-algorithm" title="Permalink"></a></h3><p>Our algorithm is a greedy algorithm. In order to avoid traversing certain streets repeatedly, we store how many times each street has been traversed, which will be referred to as <span>$T_n$</span> where <span>$s_n$</span> is the <span>$n$</span>-th street. At each step, we maximize the heuristic below among all the streets that the car can traverse the next step.</p><p class="math-container">\[h(s_n)
= \left\{\begin{array}{lr}l_n, &amp;  T_n = 0 \\
-t_n\times T_n, &amp; T_n &gt; 0 \\
\end{array}\right.\]</p><p>If not all the streets have been traversed before, this algorithm maximizes the distance of the next street. If all the streets have been traversed before, this algorithm tries to avoid traversing certain streets over and over again. Actually, <span>$h$</span> can be any function of <span>$l_n$</span>, <span>$t_n$</span>, and <span>$T_n$</span>. The equation above is just one example that we found easy to calculate and performs well.</p><p>Note that <span>$T_n$</span> is updated at every step. If we decide to traverse <span>$s_n$</span>, we need to do <span>$T_n = T_n + 1$</span> soon after that. <span>$T_n$</span> can be larger than <span>$1$</span>.</p><h3 id="Look-ahead"><a class="docs-heading-anchor" href="#Look-ahead">Look-ahead</a><a id="Look-ahead-1"></a><a class="docs-heading-anchor-permalink" href="#Look-ahead" title="Permalink"></a></h3><p>We use a look ahead to improve the greedy algorithm. We sum over the values of the heuristic for a certain number of steps. This is done with a tree search and the time complexity is roughly <span>$O(d^L)$</span>, where <span>$d$</span> is the average degree of nearby vertices and <span>$L$</span> is the number of steps to look ahead. Note that the change in <span>$T_n$</span> due to previous steps is considered in the calculation.</p><h3 id="Multiple-cars"><a class="docs-heading-anchor" href="#Multiple-cars">Multiple cars</a><a id="Multiple-cars-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-cars" title="Permalink"></a></h3><p>We schedule the routes for all cars sequentially. First, we use the above algorithm for the first car. After running out of time of the first cat, we start to schedule the route of the second car.</p><p>However, <span>$T_n$</span> is shared by all the cars. So, the later cars can also learn from previous cars.</p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#NoahYixiaoHashCode.Junction"><code>NoahYixiaoHashCode.Junction</code></a></li><li><a href="#NoahYixiaoHashCode.RoutingProblem"><code>NoahYixiaoHashCode.RoutingProblem</code></a></li><li><a href="#NoahYixiaoHashCode.Solution"><code>NoahYixiaoHashCode.Solution</code></a></li><li><a href="#NoahYixiaoHashCode.Street"><code>NoahYixiaoHashCode.Street</code></a></li><li><a href="#NoahYixiaoHashCode.distance-Tuple{NoahYixiaoHashCode.Street}"><code>NoahYixiaoHashCode.distance</code></a></li><li><a href="#NoahYixiaoHashCode.empty_solution-Tuple{RoutingProblem}"><code>NoahYixiaoHashCode.empty_solution</code></a></li><li><a href="#NoahYixiaoHashCode.is_feasible-Tuple{Solution}"><code>NoahYixiaoHashCode.is_feasible</code></a></li><li><a href="#NoahYixiaoHashCode.load_problem"><code>NoahYixiaoHashCode.load_problem</code></a></li><li><a href="#NoahYixiaoHashCode.save_text-Tuple{Solution}"><code>NoahYixiaoHashCode.save_text</code></a></li><li><a href="#NoahYixiaoHashCode.solve_greedy-Tuple{RoutingProblem}"><code>NoahYixiaoHashCode.solve_greedy</code></a></li><li><a href="#NoahYixiaoHashCode.time_cost-Tuple{NoahYixiaoHashCode.Street}"><code>NoahYixiaoHashCode.time_cost</code></a></li><li><a href="#NoahYixiaoHashCode.total_distance-Tuple{Solution}"><code>NoahYixiaoHashCode.total_distance</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.Junction" href="#NoahYixiaoHashCode.Junction"><code>NoahYixiaoHashCode.Junction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Junction</code></pre><p>Store the location of a junction.</p><p><strong>Fields</strong></p><ul><li><code>lat::N</code>: latitude</li><li><code>lon::N</code>: longitude</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/junction.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.RoutingProblem" href="#NoahYixiaoHashCode.RoutingProblem"><code>NoahYixiaoHashCode.RoutingProblem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RoutingProblem</code></pre><p>Store the information of a routing problem.</p><p><strong>Fields</strong></p><ul><li><code>n_junctions::Int</code>: number of junctions</li><li><code>n_cars::Int</code>: number of cars</li><li><code>n_streets::Int</code>: number of streets</li><li><code>total_time::Int</code>: time limit</li><li><code>init_j::Int</code>: id of the initial junction</li><li><code>junctions::J</code>: list of all the <a href="#NoahYixiaoHashCode.Junction"><code>Junction</code></a>s</li><li><code>streets::S</code>: list of all the <a href="#NoahYixiaoHashCode.Street"><code>Street</code></a>s</li><li><code>sid_matrix::M</code>: a table that shows the indices of streets. It should be a   <code>SparseArrays.SparseMatrixCSC</code>, and <code>sid_matrix[j_end, j_begin]</code> is the   index of the street if it exists otherwise 0.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/routing_problem.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.Solution" href="#NoahYixiaoHashCode.Solution"><code>NoahYixiaoHashCode.Solution</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Solution</code></pre><p>Store a solution to a <a href="#NoahYixiaoHashCode.RoutingProblem"><code>RoutingProblem</code></a></p><p><strong>Fields</strong></p><ul><li><code>problem::RoutingProblem</code>: the problem to solve</li><li><code>routes</code>: list of junctions that each car visits</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/solution.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.Street" href="#NoahYixiaoHashCode.Street"><code>NoahYixiaoHashCode.Street</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Street</code></pre><p>Store the information of a street.</p><p><strong>Fields</strong></p><ul><li><code>distance::D</code>: length</li><li><code>time_cost::T</code>: time cost</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/street.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.distance-Tuple{NoahYixiaoHashCode.Street}" href="#NoahYixiaoHashCode.distance-Tuple{NoahYixiaoHashCode.Street}"><code>NoahYixiaoHashCode.distance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance(street)</code></pre><p>Return the length of a <a href="#NoahYixiaoHashCode.Street"><code>Street</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/street.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.empty_solution-Tuple{RoutingProblem}" href="#NoahYixiaoHashCode.empty_solution-Tuple{RoutingProblem}"><code>NoahYixiaoHashCode.empty_solution</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">empty_solution(p::RoutingProblem)</code></pre><p>Return an empty solutoin, in which no car moves.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/solution.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.is_feasible-Tuple{Solution}" href="#NoahYixiaoHashCode.is_feasible-Tuple{Solution}"><code>NoahYixiaoHashCode.is_feasible</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_feasible(solution::Solution)</code></pre><p>Return whether a <a href="#NoahYixiaoHashCode.Solution"><code>Solution</code></a> is feasible.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/solution.jl#L46-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.load_problem" href="#NoahYixiaoHashCode.load_problem"><code>NoahYixiaoHashCode.load_problem</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_problem(problem_input=normpath(joinpath(@__DIR__, &quot;..&quot;, &quot;data&quot;, &quot;paris_54000.txt&quot;)))</code></pre><p>Return a <a href="#NoahYixiaoHashCode.RoutingProblem"><code>RoutingProblem</code></a> defined by the input file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/routing_problem.jl#L46-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.save_text-Tuple{Solution}" href="#NoahYixiaoHashCode.save_text-Tuple{Solution}"><code>NoahYixiaoHashCode.save_text</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_text(solution::Solution; io=stdout)</code></pre><p>Write the solution in the text format to <code>io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/solution.jl#L29-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.solve_greedy-Tuple{RoutingProblem}" href="#NoahYixiaoHashCode.solve_greedy-Tuple{RoutingProblem}"><code>NoahYixiaoHashCode.solve_greedy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solve_greedy(problem::RoutingProblem; search_depth = 10)</code></pre><p>Solve a <a href="#NoahYixiaoHashCode.RoutingProblem"><code>RoutingProblem</code></a> using a greedy algorithm.</p><p><strong>Arguments</strong></p><pre><code class="nohighlight hljs">- `problem`: the `RoutingProblem` to solve
- `search_depth`: the number of steps for the look-ahead. When it is 1,
    the code uses a greedy algorithm without a look-ahead.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/solver_greedy.jl#L50-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.time_cost-Tuple{NoahYixiaoHashCode.Street}" href="#NoahYixiaoHashCode.time_cost-Tuple{NoahYixiaoHashCode.Street}"><code>NoahYixiaoHashCode.time_cost</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">time_cost(street)</code></pre><p>Return the time cost of traversing a <a href="#NoahYixiaoHashCode.Street"><code>Street</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/street.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NoahYixiaoHashCode.total_distance-Tuple{Solution}" href="#NoahYixiaoHashCode.total_distance-Tuple{Solution}"><code>NoahYixiaoHashCode.total_distance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">total_distance(solution::Solution; check=true)</code></pre><p>Return the total distance achieved by a solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/nmorale5/NoahYixiaoHashCode.jl/blob/75e4af707712b6fb074356993e5475bfdf0a25bb/src/solution.jl#L76-L80">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Saturday 10 December 2022 03:26">Saturday 10 December 2022</span>. Using Julia version 1.8.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
